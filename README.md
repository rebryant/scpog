## SCPOG (Projected) Knowledge Compiler Certifier

Code and benchmark data to document SCPOG verification of projected model counting

This repository contains a set of tools for certifying results from
the D4 knowledge compiler.  It is based on the **SCPOG** verification
framework.  An SCPOG file encodes both a representation of a Boolean
formula as a **Skolem partitioned-operation graph** (Skolem POG), and a proof that
this POG is logically equivalent to the input formula.

# Directories

* **d4v2-modified**
    A version of the D4 knowledge compiler, modified to generate Skolem assignments
* **cpog:**
    Code for the CPOG generator and unverified checker
* **cake_scpog:**
    Code for the formally verified checker, based on CakeML/HOL4
* **benchmark:**
    A sample set of benchmarks from the 2024 standard and weighted projected model counting competitions
* **test:**
    Two very simple test problems
* **tools:**
    Code for a scripting program that runs the entire toolchain


# Installation:

Running the toolchain using prototype (unverified) tools requires the following:

* A C and C++ compiler
* A python3 interpreter
* An installed version of the [CaDiCal SAT solver](https://github.com/arminbiere/cadical)
* An installed version of the [lrat-trim proof trimmer](https://github.com/arminbiere/lrat-trim)

The programs can be compiled for 3 different platforms:

linux:
	This is the default

```console
$ make install
```

mac:
	x86-based Mac

```console
$ make install-mac
```

arm:
	ARM-based Mac

```console
$ make install-arm
```

# Other options

Run simple tests

```console
$ make test
```

Run set of benchmark examples

```console
$ make benchmark
```

Remove all files generated by knowledge compilation, proof generation, and checking

```console
$ make clean
```


Remove *all* generated files, including code

```console
$ make superclean
```
